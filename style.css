:root{
  --bg: #0f1220;
  --panel: #171a2b;
  --panel-2:#1f2340;
  --text: #e8ecff;
  --muted: #aab1d6;
  --accent: #5ec2ff;
  --danger: #ff5e7a;
  --success:#5effa1;
  --cell-size: 36px;  /* JS auto-fits this */
  --gap: 6px;
  --radius: 12px;
  --shadow: 0 6px 20px rgba(0,0,0,.35);
}
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text); background: radial-gradient(1200px 600px at 70% -10%, #1a1f3a 0%, #0f1220 45%, #0b0d19 100%) fixed;
  -webkit-tap-highlight-color: transparent;
}
.app{ max-width: 1100px; margin: 24px auto; padding: 16px; }
header{
  display:flex; flex-wrap:wrap; align-items:center; gap:12px;
  background:linear-gradient(180deg, var(--panel), var(--panel-2));
  padding:12px; border-radius: 14px; box-shadow: var(--shadow); border:1px solid #24294f;
}
header .brand{
  display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:10px; background:#12162a; border:1px solid #24294f;
}
.brand .face{
  width:36px; height:36px; display:grid; place-items:center; border-radius: 8px;
  background:#0e1136; border:1px solid #2b3170; cursor:pointer; user-select:none;
}
.brand .title{ font-weight:800; letter-spacing:.3px; }
.hud{
  display:flex; align-items:center; gap:10px; margin-left:auto; flex-wrap: wrap;
}
.stat{
  display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; background:#12162a; border:1px solid #24294f; min-width: 98px; justify-content:center;
}
.stat .val{ font-variant-numeric: tabular-nums; font-weight:700; }
select, input[type="number"], button{
  background:#12162a; color:var(--text); border:1px solid #2b3170; border-radius:10px; padding:8px 10px; font-size:14px; outline:none;
}
button.primary{ background: linear-gradient(180deg,#2a6fff,#2746ff); border-color:#1b2bb8; font-weight:700; cursor:pointer; }
button.ghost{ background:#12162a; }
.bar{ display:flex; gap:10px; flex-wrap: wrap; margin-top:12px; }
.tip{
  color:var(--muted); font-size:13px; opacity:.9; padding:8px 12px; background:#12162a; border:1px dashed #2b3170; border-radius:10px;
}

/* Board wrapper */
.board-wrap{
  margin-top:16px; background:linear-gradient(180deg, var(--panel), var(--panel-2));
  border:1px solid #24294f; border-radius:14px; padding:12px; box-shadow: var(--shadow);
}
.board{ display:grid; gap:4px; touch-action: manipulation; user-select: none; }
.cell{
  width:var(--cell-size); height:var(--cell-size);
  border-radius:8px; display:grid; place-items:center; font-weight:800;
  background: #0e1136; border:1px solid #2b3170; color:#e1e6ff;
  cursor:pointer; position:relative; outline:none;
}
.cell:hover{ filter: brightness(1.05); }
.cell:focus-visible{ box-shadow: 0 0 0 2px #5ec2ff66, inset 0 0 0 2px #5ec2ff66; }
.cell.revealed{ background: #121737; border-color:#3b428b; cursor:default; }
.cell.mine.revealed{
  background: radial-gradient(circle at 40% 35%, #ff6a85, #b3002a 60%); border-color:#ff92a4;
}
.cell.flag::after{
  content:"ðŸš©"; font-size: calc(var(--cell-size) * .65); line-height:1; transform: translateY(-1px);
}
.cell .num{
  font-size: calc(var(--cell-size) * .55); line-height: 1; transform: translateY(-1px);
  text-shadow: 0 1px 0 #0006;
}
.n1{ color:#7fd1ff; } .n2{ color:#7fff9c; } .n3{ color:#ffd37f; }
.n4{ color:#ffb07f; } .n5{ color:#ff7f7f; } .n6{ color:#ffa7ff; }
.n7{ color:#d6c8ff; } .n8{ color:#b1c0d6; }

.footer{
  display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:13px; margin-top:12px;
}
.best{ font-variant-numeric: tabular-nums; }
.toggles{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
label.switch{ display:flex; gap:8px; align-items:center; }
input[type="checkbox"]{ transform: translateY(1px); }

/* Prevent long-press callout on iOS */
.board, .cell { -webkit-touch-callout: none; }
@media (max-width: 480px){
  :root{ --gap: 8px; }
  header{ gap:8px; }
  .brand .title{ font-size:16px; }
  .stat{ min-width:auto; }
  .tip{ font-size:12px; }
}
